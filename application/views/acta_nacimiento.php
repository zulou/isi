
<div class="row-fluid">
    <div class="span6">
        <div class="widget">
            <div class="widget-header">
                <div class="title">
                    <span class="icon-table"></span> Registrar Persona
                </div>
            </div>
        </div>
        <div class="widget-body">
            <form id="form-acta-nacimiento" class="form-horizontal no-margin">
                <div class="row-fluid">
                    <div class="span12">
                        <div class="widget">
                            <div class="widget-header">
                                <div class="title">
                                    <span class="icon-pencil-2"></span> Datos Persona
                                </div>
                            </div>
                            <div class="widget-body">

                                <div class="control-group ruc">
                                    <label class="control-label">Nombres:</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text" title="Ingrese el nombre" name="nombre" required='true' >
                                    </div>
                                </div>
                                <div class="control-group ruc">
                                    <label class="control-label">Apellido Paterno</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text" title="Ingrese el nombre" name="ap_pat" required='true' >
                                    </div>
                                </div>
                                <div class="control-group ruc">
                                    <label class="control-label">Apellido materno:</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text" title="Ingrese el apellido" name="ap_mat" required='true' >
                                    </div>
                                </div>
                                <div class="control-group ruc">
                                    <label class="control-label">Fecha de Nacimiento:</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text" title="Ingrese fecha" name="fecha_nacimiento" required='true' >
                                    </div>
                                </div>

                                <div class="control-group">
                                    <label class="control-label">Direccion:</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text"  name="direccion">
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">Telefono/cel:</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text"  pattern="^[0-9]{1,9}$" name="prove_telefono">
                                    </div>
                                </div>

                                <!--</form>-->
                            </div>
                        </div>



                        <div class="widget">
                            <div class="widget-header">
                                <div class="title">
                                    <span class="icon-pencil-2"></span> Datos Persona
                                </div>
                            </div>
                            <div class="widget-body">

                                <div class="control-group ruc">
                                    <label class="control-label">Nombres:</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text" title="Ingrese el nombre" name="nombre" required='true' >
                                    </div>
                                </div>
                                <div class="control-group ruc">
                                    <label class="control-label">Apellido Paterno</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text" title="Ingrese el nombre" name="ap_pat" required='true' >
                                    </div>
                                </div>
                                <div class="control-group ruc">
                                    <label class="control-label">Apellido materno:</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text" title="Ingrese el apellido" name="ap_mat" required='true' >
                                    </div>
                                </div>
                                <div class="control-group ruc">
                                    <label class="control-label">Fecha de Nacimiento:</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text" title="Ingrese fecha" name="fecha_nacimiento" required='true' >
                                    </div>
                                </div>

                                <div class="control-group">
                                    <label class="control-label">Direccion:</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text"  name="direccion">
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">Telefono/cel:</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text"  pattern="^[0-9]{1,9}$" name="prove_telefono">
                                    </div>
                                </div>

                                <!--</form>-->
                            </div>
                        </div>

                        <div class="widget">
                            <div class="widget-header">
                                <div class="title">
                                    <span class="icon-pencil-2"></span> Datos Persona
                                </div>
                            </div>
                            <div class="widget-body">

                                <div class="control-group ruc">
                                    <label class="control-label">Nombres:</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text" title="Ingrese el nombre" name="nombre" required='true' >
                                    </div>
                                </div>
                                <div class="control-group ruc">
                                    <label class="control-label">Apellido Paterno</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text" title="Ingrese el nombre" name="ap_pat" required='true' >
                                    </div>
                                </div>
                                <div class="control-group ruc">
                                    <label class="control-label">Apellido materno:</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text" title="Ingrese el apellido" name="ap_mat" required='true' >
                                    </div>
                                </div>
                                <div class="control-group ruc">
                                    <label class="control-label">Fecha de Nacimiento:</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text" title="Ingrese fecha" name="fecha_nacimiento" required='true' >
                                    </div>
                                </div>

                                <div class="control-group">
                                    <label class="control-label">Direccion:</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text"  name="direccion">
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">Telefono/cel:</label>
                                    <div class="controls">
                                        <input class="input-block-level" type="text"  pattern="^[0-9]{1,9}$" name="prove_telefono">
                                    </div>
                                </div>

                                <!--</form>-->
                            </div>
                        </div>


                    </div>
                </div>


                <div class="form-actions no-margin">
                    <button class="btn btn-primary" id="btn-guardar">Guardar !</button>
                    <button class="btn btn-default" id="cancelar-producto">Cancelar</button>
                </div>


        </div>
    </div>
</div>







<script>
    $(function() {
        $('#c-drag').click(function() {
            if (this.checked)
                $('#prov_perseccion').val(1);
            else
                $('#prov_perseccion').val(0);
        }).attr('checked', false);

        $('#agregar-producto').click(function(e) {
            e.preventDefault();
            var html = '<tr><td><input type="text" name="nombre_producto" class="name_prod" onKeyUp="this.value=this.value.toUpperCase();"></td><td><select class="input-medium" name="tipo_producto"><option value="Kg.">Kgs.</option><option value="Lt.">Lts</option><option value="Gr.">Grs.</option><option value="Unid.">Unds.</option></select></td><td><select class="input-medium" name="tipo_stock" disabled><option value="0">Manual</option><option value="1">Automatico</option></select></td><td><button class="btn btn-danger eliminar-producto">Eliminar</button></td></tr>';
            $('#proveedor-producto-body').append(html);
        });
        $('body').on('click', '.eliminar-producto', function() {
            $(this).parent().parent().remove();
        });
        $('body').on('change', '.name_prod', function() {

        });

        $('#btn-guardar').click(function() {
            var prov_datos = $('#form-acta-nacimiento').serializeArray();
            //console.log(prov_datos);
            var btn = this;
            $(btn).attr("disabled", "disabled");
            $.ajax({
                url: $.uri('main/proveedor/proveedor/registrar_proveedor'),
                data: {'datos': prov_datos},
                dataType: 'Json',
                type: 'POST',
                success: function(res) {
                    alert(res.msg);
                    if (res.state === 'success') {
                        location.reload();
                    }
                }
            });
            $(btn).removeAttr("disabled");
        });

        var prod = [123];
        $(document).on("focus", '.name_prod', function(e) {
            var $this = this;
            if (!$(this).data("autocomplete")) {
                $(this).autocomplete({
                    source: prod,
                    select: function() {
                        $($this).parent().next().next().children().val('1');
                    }
                });
            }
        });

    });
</script>